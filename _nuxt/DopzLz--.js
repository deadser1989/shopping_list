import{_}from"./k2kypmPH.js";import{r as u,g as b,c as i,a as o,j as f,k as p,b as k,t as c,l as T,v as y,m as h,F as w,n as A,w as W,o as r,d as g}from"./CYARvIjS.js";import{_ as x}from"./DlAUqK2U.js";const C={class:"container"},D={key:0},N={class:"form-container"},B={class:"list-container"},I=["onClick"],M={key:0},S={__name:"shopping-list",setup(V){const s=u(""),n=u([]),d=u(""),m=()=>{s.value.trim()&&(n.value.push({id:Date.now(),name:s.value.trim()}),s.value="")},v=a=>{n.value=n.value.filter(e=>e.id!==a)};return b(()=>{var a;if(window.Telegram&&window.Telegram.WebApp){window.Telegram.WebApp.ready(),console.log("Telegram Web App SDK initialized");const e=(a=window.Telegram.WebApp.initDataUnsafe)==null?void 0:a.user;if(e){d.value=e.first_name,console.log("User ID:",e.id),console.log("User first name:",e.first_name);const t=window.Telegram.WebApp.themeParams;console.log("Theme Params:",t),t.bg_color&&(document.body.style.backgroundColor=t.bg_color,console.log(document.body.style.backgroundColor))}else console.warn("Не удалось получить информацию о пользователе.");window.Telegram.WebApp.MainButton.text="Сохранить",window.Telegram.WebApp.MainButton.onClick(()=>{const t=JSON.stringify(n.value);window.Telegram.WebApp.sendData(t)}),window.Telegram.WebApp.MainButton.show()}else console.warn("Telegram Web App SDK not available")}),(a,e)=>{const t=_;return r(),i(w,null,[o("div",null,[f(a.$slots,"default",{},void 0)]),o("div",C,[e[4]||(e[4]=o("h1",null,"Мой список покупок",-1)),d.value?(r(),i("p",D,c(d.value)+"!",1)):p("",!0),o("div",N,[e[1]||(e[1]=o("label",{for:"new-item"},"Новый продукт:",-1)),T(o("input",{type:"text",id:"new-item","onUpdate:modelValue":e[0]||(e[0]=l=>s.value=l),placeholder:"Название продукта",onKeyup:h(m,["enter"])},null,544),[[y,s.value]]),o("button",{onClick:m},"Добавить")]),o("div",B,[e[2]||(e[2]=o("h2",null,"Добавленные продукты:",-1)),o("ul",null,[(r(!0),i(w,null,A(n.value,l=>(r(),i("li",{key:l.id},[g(c(l.name)+" ",1),o("button",{onClick:K=>v(l.id),class:"remove-button"},"Удалить",8,I)]))),128))]),n.value.length===0?(r(),i("p",M,"Список пуст.")):p("",!0)]),k(t,{to:"/",class:"back-btn"},{default:W(()=>e[3]||(e[3]=[g("← На главный экран")])),_:1})])],64)}}},F=x(S,[["__scopeId","data-v-accef56e"]]);export{F as default};
