import{_ as g}from"./DovQR-gD.js";import{r as m,g as v,c as i,a as t,j as p,b,t as c,k as f,v as T,l as k,F as h,m as y,w as x,o as r,d as w}from"./clBki4FD.js";import{_ as A}from"./DlAUqK2U.js";const W={class:"container"},D={key:0},C={class:"form-container"},N={class:"list-container"},B=["onClick"],I={key:0},M={__name:"shopping-list",setup(V){const a=m(""),n=m([]),d=m(""),u=()=>{a.value.trim()&&(n.value.push({id:Date.now(),name:a.value.trim()}),a.value="")},_=s=>{n.value=n.value.filter(e=>e.id!==s)};return v(()=>{var s;if(window.Telegram&&window.Telegram.WebApp){window.Telegram.WebApp.ready(),console.log("Telegram Web App SDK initialized");const e=(s=window.Telegram.WebApp.initDataUnsafe)==null?void 0:s.user;if(e){d.value=e.first_name,console.log("User ID:",e.id),console.log("User first name:",e.first_name);const o=window.Telegram.WebApp.themeParams;console.log("Theme Params:",o),o.bg_color&&(document.body.style.backgroundColor=o.bg_color)}else console.warn("Не удалось получить информацию о пользователе.");window.Telegram.WebApp.MainButton.text="Сохранить",window.Telegram.WebApp.MainButton.onClick(()=>{const o=JSON.stringify(n.value);window.Telegram.WebApp.sendData(o)}),window.Telegram.WebApp.MainButton.show()}else console.warn("Telegram Web App SDK not available")}),(s,e)=>{const o=g;return r(),i("div",W,[e[4]||(e[4]=t("h1",null,"Мой список покупок",-1)),d.value?(r(),i("p",D,c(d.value)+"!",1)):p("",!0),t("div",C,[e[1]||(e[1]=t("label",{for:"new-item"},"Новый продукт:",-1)),f(t("input",{type:"text",id:"new-item","onUpdate:modelValue":e[0]||(e[0]=l=>a.value=l),placeholder:"Название продукта",onKeyup:k(u,["enter"])},null,544),[[T,a.value]]),t("button",{onClick:u},"Добавить")]),t("div",N,[e[2]||(e[2]=t("h2",null,"Добавленные продукты:",-1)),t("ul",null,[(r(!0),i(h,null,y(n.value,l=>(r(),i("li",{key:l.id},[w(c(l.name)+" ",1),t("button",{onClick:K=>_(l.id),class:"remove-button"},"Удалить",8,B)]))),128))]),n.value.length===0?(r(),i("p",I,"Список пуст.")):p("",!0)]),b(o,{to:"/",class:"back-btn"},{default:x(()=>e[3]||(e[3]=[w("← На главный экран")])),_:1})])}}},P=A(M,[["__scopeId","data-v-b4d4d8bd"]]);export{P as default};
