import{r as d,o as c,t as a,x as t,y as u,H as w,I as v,J as _,K as g,L as b,M as f,v as s,B as T}from"./D_GxLFam.js";import{_ as y}from"./DlAUqK2U.js";const h={class:"container"},k={key:0},x={key:1},A={class:"form-container"},W={class:"list-container"},D=["onClick"],B={key:0},C={__name:"index",setup(I){const l=d(""),n=d([]),r=d(""),m=()=>{l.value.trim()&&(n.value.push({id:Date.now(),name:l.value.trim()}),l.value="")},p=i=>{n.value=n.value.filter(e=>e.id!==i)};return c(()=>{var i;if(window.Telegram&&window.Telegram.WebApp){window.Telegram.WebApp.ready(),console.log("Telegram Web App SDK initialized");const e=(i=window.Telegram.WebApp.initDataUnsafe)==null?void 0:i.user;if(e){r.value=e.first_name,console.log("User ID:",e.id),console.log("User first name:",e.first_name);const o=window.Telegram.WebApp.themeParams;console.log("Theme Params:",o),o.bg_color&&(document.body.style.backgroundColor=o.bg_color)}else console.warn("Не удалось получить информацию о пользователе.");window.Telegram.WebApp.MainButton.text="Сохранить",window.Telegram.WebApp.MainButton.onClick(()=>{const o=JSON.stringify(n.value);window.Telegram.WebApp.sendData(o)}),window.Telegram.WebApp.MainButton.show()}else console.warn("Telegram Web App SDK not available")}),(i,e)=>(s(),a("div",h,[e[3]||(e[3]=t("h1",null,"Мой список покупок",-1)),r.value?(s(),a("p",k,"Привет, "+u(r.value)+"!",1)):(s(),a("p",x,"Привет!")),t("div",A,[e[1]||(e[1]=t("label",{for:"new-item"},"Новый продукт:",-1)),w(t("input",{type:"text",id:"new-item","onUpdate:modelValue":e[0]||(e[0]=o=>l.value=o),placeholder:"Название продукта",onKeyup:_(m,["enter"])},null,544),[[v,l.value]]),t("button",{onClick:m},"Добавить")]),t("div",W,[e[2]||(e[2]=t("h2",null,"Добавленные продукты:",-1)),t("ul",null,[(s(!0),a(b,null,f(n.value,o=>(s(),a("li",{key:o.id},[T(u(o.name)+" ",1),t("button",{onClick:M=>p(o.id),class:"remove-button"},"Удалить",8,D)]))),128))]),n.value.length===0?(s(),a("p",B,"Список пуст.")):g("",!0)])]))}},S=y(C,[["__scopeId","data-v-c23ed376"]]);export{S as default};
